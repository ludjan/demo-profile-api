name: "Main"

on: 
  push: 
    branches: [main]
    paths-ignore: 
      - "doc/**"
      - ".github/**"
  workflow_dispatch:

jobs:
  lint:
    name: "Linting the project"
    runs-on: ubuntu-latest
    steps:
      - name: "Running linting"
        run: "echo About to run linting"
  linelint:
    needs: lint
    runs-on: ubuntu-latest
    name: Check if all files end in newline
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Linelint
        uses: actions/linelint@0.0.6
        id: linelint
  build:
    needs: lint
    name: "Building the binaries"
    runs-on: ubuntu-latest
    steps:
      - name: "Building"
        run: "echo About to build the project"
  test:
    needs: build
    name: "Testing the binaries"
    runs-on: ubuntu-latest
    steps:
      - name: "Testing"
        run: "echo Testing the binaries"   
      
